{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","handleSubmit","newName","newNumber","handleNameChange","handleNumberChange","onClick","type","Persons","persons","deletePerson","personsToShow","person","name","toLowerCase","includes","map","key","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","content","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","error","setError","message","setMessage","useEffect","personService","initialPersons","displayNotification","setTimeout","changeNumber","window","confirm","personObject","updatedPerson","p","catch","length","event","target","e","preventDefault","find","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cdf5ea14.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => (\n  <div>\n    filter shown with <input value={filter} onChange={handleFilterChange} />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, newName, newNumber, handleNameChange, handleNumberChange}) => (\n  <form>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button onClick={handleSubmit} type='submit'>\n        add\n      </button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ filter, persons, deletePerson }) => {\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  )\n\n  return (\n    <ul>\n      {personsToShow.map((person) => (\n        <li key={person.name}>\n          {person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n   const request = axios.get(baseUrl)\n   return request.then(response => response.data)\n}\n\nconst create = newObject => {\n   const request = axios.post(baseUrl, newObject)\n   return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n   const request = axios.put(`${baseUrl}/${id}`, newObject)\n   return request.then(response => response.data)\n}\n\nconst remove = id => {\n   const request = axios.delete(`${baseUrl}/${id}`)\n   return request.then(response => {\n      return response.data\n   })\n}\n\nexport default {\n   getAll,\n   create,\n   update,\n   remove\n}\n","import React from 'react'\n\nconst Notification = ({ content, type }) => {\n   if (content === null) {\n     return null\n   }\n \n   return (\n     <div className={type}>\n       {content}\n     </div>\n   )\n }\n\n export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [error, setError] = useState('')\n  const [message, setMessage] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const displayNotification = (type, content) => {\n    if (type === 'success') {\n      setMessage(content)\n      setTimeout(() => {\n        setMessage('')\n      }, 2500)\n    } else if (type === 'error') {\n      setError(content)\n      setTimeout(() => {\n        setError('')\n      }, 2500)\n    }\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    const person = persons.find((p) => p.name.toLowerCase() === newName.toLowerCase())\n\n    if (person) {\n      changeNumber(person)\n      return\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n    \n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        displayNotification('success', `Added ${returnedPerson.name}`)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        displayNotification('error', error.response.data.error)\n      })\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(person.id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          displayNotification('success', `Deleted ${person.name}`)\n        })\n        .catch(error => {\n          displayNotification('error', error.response.data.error)\n        })\n    }\n  }\n\n  const changeNumber = (person) => {\n    if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\n      const personObject = {\n        ...person,\n        number: newNumber\n      }\n\n      personService\n        .update(person.id, personObject)\n        .then(updatedPerson => {\n          setPersons(persons.map(p => p.id !== updatedPerson.id ? p : updatedPerson))\n          displayNotification('success', `${person.name} number updated`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          displayNotification('error', `Information of ${person.name} has already been removed from the server`)\n        })\n    }\n  }\n\n  return (\n    <div>\n      {error.length > 0 && <Notification content={error} type='error' />}\n      {message.length > 0 && <Notification content={message} type='success' />}\n      <h2>Phonebook</h2>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>add new</h2>\n      <PersonForm\n        handleSubmit={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}